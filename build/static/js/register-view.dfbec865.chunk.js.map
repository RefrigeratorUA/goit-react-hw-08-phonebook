{"version":3,"sources":["components/Notification/Notification.js","components/RegistrationForm/RegistrationForm.js","views/RegisterView.js"],"names":["Notification","state","errorMessage","this","props","onView","message","setState","setTimeout","prevProps","prevState","className","Component","RegistrationForm","name","email","password","handleChange","event","target","value","handleSubmit","preventDefault","onRegister","showNotification","CSSTransition","in","classNames","timeout","unmountOnExit","onSubmit","type","onChange","disabled","mapDispatchToProps","authOperations","register","connect","RegisterView"],"mappings":"oOA2BeA,E,4MAxBbC,MAAQ,CACNC,aAAc,I,uDAGhB,WAAqB,IAAD,EACUC,KAAKC,MAAzBC,EADU,EACVA,OAAQC,EADE,EACFA,QAChBH,KAAKI,SAAS,CAAEL,aAAcI,IAC9BE,YAAW,kBAAMH,EAAO,MAAK,O,gCAE/B,SAAmBI,EAAWC,GAAY,IAAD,EACXP,KAAKC,MAAzBC,EAD+B,EAC/BA,OAAQC,EADuB,EACvBA,QACRJ,EAAiBC,KAAKF,MAAtBC,aACR,GAAII,GAAWA,IAAYJ,EAEzB,OADAC,KAAKI,SAAS,CAAEL,aAAcI,IACvBD,EAAO,M,oBAIlB,WAAU,IACAH,EAAiBC,KAAKF,MAAtBC,aACR,OAAO,qBAAKS,UAAU,QAAf,SAAwBT,Q,GArBRU,c,kKCKrBC,E,4MACJZ,MAAQ,CACNa,KAAM,GACNC,MAAO,GACPC,SAAU,GACVd,aAAc,I,EAGhBe,aAAe,SAAAC,GAAU,IAAD,EACEA,EAAMC,OAAtBL,EADc,EACdA,KAAMM,EADQ,EACRA,MACd,EAAKb,SAAL,eAAiBO,EAAOM,K,EAG1BC,aAAe,SAAAH,GACbA,EAAMI,iBADgB,MAEY,EAAKrB,MAA/Ba,EAFc,EAEdA,KAAMC,EAFQ,EAERA,MAAOC,EAFC,EAEDA,SACbO,EAAe,EAAKnB,MAApBmB,WAER,OAAKT,EACAC,EACAC,GAELO,EAAW,CAAET,OAAMC,QAAOC,kBAC1B,EAAKT,SAAS,CAAEO,KAAM,GAAIC,MAAO,GAAIC,SAAU,MAHzB,EAAKQ,iBAAiB,yBADzB,EAAKA,iBAAiB,sBADvB,EAAKA,iBAAiB,2B,EAQ1CA,iBAAmB,SAAAtB,GACjB,EAAKK,SAAS,CAAEL,kB,4CAGlB,WAAU,IAAD,EACyCC,KAAKF,MAA7Ca,EADD,EACCA,KAAMC,EADP,EACOA,MAAOC,EADd,EACcA,SAAUd,EADxB,EACwBA,aAC/B,OACE,qCACE,qBAAKS,UAAU,uBAAf,SACE,cAACc,EAAA,EAAD,CAAeC,KAAMxB,EAAcyB,WAAW,eAAeC,QAAS,IAAKC,eAAa,EAAxF,SACE,cAAC7B,EAAA,EAAD,CAAcK,OAAQF,KAAKqB,iBAAkBlB,QAASJ,QAI1D,uBAAM4B,SAAU3B,KAAKkB,aAArB,UACE,yCAEE,uBACEV,UAAU,QACVoB,KAAK,OACLjB,KAAK,OACLM,MAAON,EACPkB,SAAU7B,KAAKc,kBAGnB,0CAEE,uBACEN,UAAU,QACVoB,KAAK,QACLjB,KAAK,QACLM,MAAOL,EACPiB,SAAU7B,KAAKc,kBAGnB,6CAEE,uBACEN,UAAU,QACVoB,KAAK,WACLjB,KAAK,WACLM,MAAOJ,EACPgB,SAAU7B,KAAKc,kBAGnB,uBACA,wBACEN,UAAU,gBACVoB,KAAK,SACLE,UAAYnB,IAASC,IAAUC,KAAed,EAHhD,gC,GAxEqBU,aAuFzBsB,EAAqB,CACzBX,WAAYY,IAAeC,UAGdC,cAAQ,KAAMH,EAAdG,CAAkCxB,GCvFlCyB,UATM,WACnB,OACE,qCACE,uDACA,cAAC,EAAD","file":"static/js/register-view.dfbec865.chunk.js","sourcesContent":["import { Component } from 'react';\n\nclass Notification extends Component {\n  state = {\n    errorMessage: '',\n  };\n\n  componentDidMount() {\n    const { onView, message } = this.props;\n    this.setState({ errorMessage: message });\n    setTimeout(() => onView(''), 2000);\n  }\n  componentDidUpdate(prevProps, prevState) {\n    const { onView, message } = this.props;\n    const { errorMessage } = this.state;\n    if (message && message !== errorMessage) {\n      this.setState({ errorMessage: message });\n      return onView('');\n    }\n  }\n\n  render() {\n    const { errorMessage } = this.state;\n    return <div className=\"alert\">{errorMessage}</div>;\n  }\n}\n\nexport default Notification;\n","import { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport Notification from '../Notification';\r\nimport '../Notification/Notification.css';\r\nimport { authOperations } from '../../redux/auth';\r\n\r\nclass RegistrationForm extends Component {\r\n  state = {\r\n    name: '',\r\n    email: '',\r\n    password: '',\r\n    errorMessage: '',\r\n  };\r\n\r\n  handleChange = event => {\r\n    const { name, value } = event.target;\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n    const { name, email, password } = this.state;\r\n    const { onRegister } = this.props;\r\n\r\n    if (!name) return this.showNotification('Please enter user name');\r\n    if (!email) return this.showNotification('Please enter email');\r\n    if (!password) return this.showNotification('Please enter password');\r\n\r\n    onRegister({ name, email, password });\r\n    this.setState({ name: '', email: '', password: '' });\r\n  };\r\n\r\n  showNotification = errorMessage => {\r\n    this.setState({ errorMessage });\r\n  };\r\n\r\n  render() {\r\n    const { name, email, password, errorMessage } = this.state;\r\n    return (\r\n      <>\r\n        <div className=\"Notification-wrapper\">\r\n          <CSSTransition in={!!errorMessage} classNames=\"Notification\" timeout={250} unmountOnExit>\r\n            <Notification onView={this.showNotification} message={errorMessage} />\r\n          </CSSTransition>\r\n        </div>\r\n\r\n        <form onSubmit={this.handleSubmit}>\r\n          <label>\r\n            Name\r\n            <input\r\n              className=\"input\"\r\n              type=\"text\"\r\n              name=\"name\"\r\n              value={name}\r\n              onChange={this.handleChange}\r\n            ></input>\r\n          </label>\r\n          <label>\r\n            Email\r\n            <input\r\n              className=\"input\"\r\n              type=\"email\"\r\n              name=\"email\"\r\n              value={email}\r\n              onChange={this.handleChange}\r\n            ></input>\r\n          </label>\r\n          <label>\r\n            Password\r\n            <input\r\n              className=\"input\"\r\n              type=\"password\"\r\n              name=\"password\"\r\n              value={password}\r\n              onChange={this.handleChange}\r\n            ></input>\r\n          </label>\r\n          <br />\r\n          <button\r\n            className=\"btn-phonebook\"\r\n            type=\"submit\"\r\n            disabled={(!name && !email && !password) || !!errorMessage}\r\n          >\r\n            Register\r\n          </button>\r\n        </form>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\n// const mapStateToProps = state => ({ items: contactsSelectors.getAllContacts(state) });\r\n\r\nconst mapDispatchToProps = {\r\n  onRegister: authOperations.register,\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(RegistrationForm);\r\n","import RegistrationForm from '../components/RegistrationForm';\r\n\r\nconst RegisterView = () => {\r\n  return (\r\n    <>\r\n      <h1>Registration new user</h1>\r\n      <RegistrationForm />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default RegisterView;\r\n"],"sourceRoot":""}