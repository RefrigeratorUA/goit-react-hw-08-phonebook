(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[0],{38:function(t,e,n){t.exports={enter:"PhonebookList_enter__3Kimb",enterActive:"PhonebookList_enterActive__1KyOv",exit:"PhonebookList_exit__3tO4t",exitActive:"PhonebookList_exitActive__3XIs9"}},45:function(t,e,n){},70:function(t,e,n){},72:function(t,e,n){},73:function(t,e,n){},74:function(t,e,n){},94:function(t,e,n){"use strict";n.r(e);var r=n(0),c=n.n(r),a=n(9),o=n.n(a),i=(n(44),n(45),n(21)),s=n(12),u=n(4),b=n(5),l="counter/Increment",j="counter/Decrement",f=Object(b.c)({value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.payload;switch(n){case l:return t+r;case j:return t-r;default:return t}},step:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;return t}}),h=n(11),d=n.n(h),O=n(22),p=n(19),m=n.n(p);m.a.defaults.baseURL="http://localhost:7777";var v,x,g,w=function(){return function(){var t=Object(O.a)(d.a.mark((function t(e){var n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(S()),t.prev=1,t.next=4,m.a.get("/contacts");case 4:n=t.sent,r=n.data,e(D(r)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(_(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},y=function(t,e){return function(){var n=Object(O.a)(d.a.mark((function n(r){var c,a,o;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c={name:t,number:e},r(L()),n.prev=2,n.next=5,m.a.post("/contacts",c);case 5:a=n.sent,o=a.data,r(F(o)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),r(E(n.t0));case 13:case"end":return n.stop()}}),n,null,[[2,10]])})));return function(t){return n.apply(this,arguments)}}()},C=function(t){return function(){var e=Object(O.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(P()),e.prev=1,e.next=4,m.a.delete("/contacts/".concat(t));case 4:n(q(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),n(R(e.t0));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},N=n(20),k=function(t){return t.contacts.filter},A=function(t){return t.contacts.items},M={getLoading:function(t){return t.contacts.loading},getFilter:k,getError:function(t){return t.contacts.error},getAllContacts:A,getFilteredContacts:Object(N.a)([A,k],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))}))},S=Object(u.b)("contacts/fetchContactRequest"),D=Object(u.b)("contacts/fetchContactSuccess"),_=Object(u.b)("contacts/fetchContactError"),L=Object(u.b)("contacts/addContactRequest"),F=Object(u.b)("contacts/addContactSuccess"),E=Object(u.b)("contacts/addContactError"),P=Object(u.b)("contacts/deleteContactRequest"),q=Object(u.b)("contacts/deleteContactSuccess"),R=Object(u.b)("contacts/deleteContactError"),V=Object(u.b)("contact/ChangeFilter"),T=n(3),U=Object(u.c)([],(v={},Object(T.a)(v,D,(function(t,e){return e.payload})),Object(T.a)(v,F,(function(t,e){return[e.payload].concat(Object(i.a)(t))})),Object(T.a)(v,q,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==Number(n)}))})),v)),B=Object(u.c)("",Object(T.a)({},V,(function(t,e){return e.payload}))),I=Object(u.c)(!1,(x={},Object(T.a)(x,S,(function(){return!0})),Object(T.a)(x,D,(function(){return!1})),Object(T.a)(x,_,(function(){return!1})),Object(T.a)(x,L,(function(){return!0})),Object(T.a)(x,F,(function(){return!1})),Object(T.a)(x,E,(function(){return!1})),Object(T.a)(x,P,(function(){return!0})),Object(T.a)(x,q,(function(){return!1})),Object(T.a)(x,R,(function(){return!1})),x)),J=Object(u.c)(null,(g={},Object(T.a)(g,S,(function(){return""})),Object(T.a)(g,_,(function(){return"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u043e\u0432 \u0438\u0437 \u0411\u0414"})),Object(T.a)(g,L,(function(){return""})),Object(T.a)(g,E,(function(){return"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0438\u0441\u0438 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0430 \u0432 \u0411\u0414"})),Object(T.a)(g,P,(function(){return""})),Object(T.a)(g,R,(function(){return"\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0430 \u0438\u0437 \u0411\u0414"})),g)),K=Object(b.c)({items:U,filter:B,loading:I,error:J}),z=Object(i.a)(Object(u.d)({serializableCheck:{ignoredActions:[s.a,s.f,s.b,s.c,s.d,s.e]}})),X=Object(b.c)({contacts:K,counter:f}),G=Object(u.a)({reducer:X,devTools:!1,middleware:z}),H=n(10),Q=(n(70),n(1));var W=function(t){var e=t.title,n=t.children;return Object(Q.jsxs)("section",{className:"section",children:[e&&Object(Q.jsx)("h2",{children:e}),n]})},Y=n(95),Z=(n(72),function(){return Object(Q.jsx)("h1",{className:"logo",children:"Phonebook"})}),$=(n(73),function(){return Object(Q.jsx)("header",{className:"AppBar-wrapper",children:Object(Q.jsx)(Y.a,{in:!0,appear:!0,classNames:"AppBar-logo",timeout:500,unmountOnExit:!0,children:Object(Q.jsx)(Z,{})})})}),tt=n(13),et=n(14),nt=n(16),rt=n(15),ct=function(t){Object(nt.a)(n,t);var e=Object(rt.a)(n);function n(){var t;Object(tt.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(t=e.call.apply(e,[this].concat(c))).state={errorMessage:""},t}return Object(et.a)(n,[{key:"componentDidMount",value:function(){var t=this.props,e=t.onView,n=t.message;this.setState({errorMessage:n}),setTimeout((function(){return e("")}),2e3)}},{key:"componentDidUpdate",value:function(t,e){var n=this.props,r=n.onView,c=n.message,a=this.state.errorMessage;if(c&&c!==a)return this.setState({errorMessage:c}),r("")}},{key:"render",value:function(){var t=this.state.errorMessage;return Object(Q.jsx)("div",{className:"alert",children:t})}}]),n}(r.Component),at=(n(74),function(t){Object(nt.a)(n,t);var e=Object(rt.a)(n);function n(){var t;Object(tt.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(t=e.call.apply(e,[this].concat(c))).state={name:"",number:"",errorMessage:""},t.handleChange=function(e){var n=e.target,r=n.name,c=n.value;t.setState(Object(T.a)({},r,c))},t.handleSubmit=function(e){e.preventDefault();var n=t.state,r=n.name,c=n.number,a=t.props,o=a.onAddContact,i=a.items;return r?c?i.some((function(t){return t.name===r}))?(t.setState({name:"",number:""}),t.showNotification("".concat(r," is already in contacts"))):(o(r,c),void t.setState({name:"",number:""})):t.showNotification("Please enter contact number"):t.showNotification("Please enter contact name")},t.showNotification=function(e){t.setState({errorMessage:e})},t}return Object(et.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number,r=t.errorMessage,c=!!r;return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)("div",{className:"Notification-wrapper",children:Object(Q.jsx)(Y.a,{in:c,classNames:"Notification",timeout:250,unmountOnExit:!0,children:Object(Q.jsx)(ct,{onView:this.showNotification,message:r})})}),Object(Q.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(Q.jsxs)("label",{children:["Name",Object(Q.jsx)("input",{className:"input",type:"text",name:"name",value:e,onChange:this.handleChange})]}),Object(Q.jsxs)("label",{children:["Number",Object(Q.jsx)("input",{className:"input",type:"text",name:"number",value:n,onChange:this.handleChange})]}),Object(Q.jsx)("br",{}),Object(Q.jsx)("button",{className:"btn",type:"submit",disabled:!e&&!n||r,children:"Add contact"})]})]})}}]),n}(r.Component)),ot=Object(H.b)((function(t){return{items:M.getAllContacts(t)}}),(function(t){return{onAddContact:function(e,n){return t(y(e,n))}}}))(at),it=n(96),st=Object(H.b)(null,(function(t){return{onFilterChange:function(e){return t(V(e.target.value))}}}))((function(t){var e=t.onFilterChange;return Object(Q.jsxs)("div",{children:[Object(Q.jsx)("p",{children:"Find contacts by name"}),Object(Q.jsx)("input",{className:"input",type:"text",onChange:e})]})})),ut=n(37),bt=n.n(ut),lt=(n(93),function(t){var e=t.type,n=void 0===e?"ThreeDots":e,r=t.color,c=void 0===r?"#000":r,a=t.className,o=void 0===a?"loader":a;return Object(Q.jsx)(bt.a,{visible:"true",type:n,color:c,height:50,width:50,className:o})}),jt=function(t){var e=t.name,n=t.number,r=t.id,c=t.onDelete;return Object(Q.jsxs)("li",{className:"list-item",children:["".concat(e,": "),Object(Q.jsx)("span",{children:n}),Object(Q.jsx)("button",{type:"button",id:r,onClick:function(t){return c(t.target.id)},children:"Delete"})]})},ft=n(38),ht=n.n(ft),dt=function(t){Object(nt.a)(n,t);var e=Object(rt.a)(n);function n(){var t;Object(tt.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(t=e.call.apply(e,[this].concat(c))).state={errorMessage:""},t.showNotification=function(e){t.setState({errorMessage:e})},t}return Object(et.a)(n,[{key:"componentDidMount",value:function(){return this.props.fetchContacts()}},{key:"componentDidUpdate",value:function(t,e){var n=e.errorMessage,r=this.props.error;r!==n&&this.showNotification(r)}},{key:"render",value:function(){var t=this.props,e=t.contacts,n=t.filter,r=t.onDelete,c=t.isLoading,a=t.error,o=!!this.state.errorMessage;return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)("div",{className:"Notification-wrapper",children:Object(Q.jsx)(Y.a,{in:o,classNames:"Notification",timeout:250,unmountOnExit:!0,children:Object(Q.jsx)(ct,{onView:this.showNotification,message:a})})}),c&&Object(Q.jsx)(lt,{}),(e.length>1||n)&&Object(Q.jsx)(st,{}),Object(Q.jsx)(it.a,{component:"ul",className:"list",children:e.map((function(t){var e=t.name,n=t.id,c=t.number;return Object(Q.jsx)(Y.a,{timeout:250,classNames:ht.a,children:Object(Q.jsx)(jt,{name:e,number:c,id:n,onDelete:r})},n)}))})]})}}]),n}(r.Component),Ot=Object(H.b)((function(t){return{contacts:M.getFilteredContacts(t),filter:M.getFilter(t),isLoading:M.getLoading(t),error:M.getError(t)}}),(function(t){return{fetchContacts:function(){return t(w())},onDelete:function(e){return t(C(e))}}}))(dt),pt=function(){return Object(Q.jsxs)(W,{children:[Object(Q.jsx)($,{}),Object(Q.jsx)(ot,{}),Object(Q.jsx)(Ot,{})]})};o.a.render(Object(Q.jsx)(c.a.StrictMode,{children:Object(Q.jsx)(H.a,{store:G,children:Object(Q.jsx)(pt,{})})}),document.querySelector("#root"))}},[[94,1,2]]]);
//# sourceMappingURL=main.2337f094.chunk.js.map