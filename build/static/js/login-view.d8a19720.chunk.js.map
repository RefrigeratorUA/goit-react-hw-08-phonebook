{"version":3,"sources":["components/Notification/Notification.js","components/LoginForm/LoginForm.js","views/LoginView.js"],"names":["Notification","state","errorMessage","this","props","onView","message","setState","setTimeout","prevProps","prevState","className","Component","LoginForm","email","password","handleChange","event","target","name","value","handleSubmit","preventDefault","onLogin","showNotification","CSSTransition","in","classNames","timeout","unmountOnExit","onSubmit","type","onChange","disabled","mapDispatchToProps","authOperations","login","connect","LoginView"],"mappings":"oOA2BeA,E,4MAxBbC,MAAQ,CACNC,aAAc,I,uDAGhB,WAAqB,IAAD,EACUC,KAAKC,MAAzBC,EADU,EACVA,OAAQC,EADE,EACFA,QAChBH,KAAKI,SAAS,CAAEL,aAAcI,IAC9BE,YAAW,kBAAMH,EAAO,MAAK,O,gCAE/B,SAAmBI,EAAWC,GAAY,IAAD,EACXP,KAAKC,MAAzBC,EAD+B,EAC/BA,OAAQC,EADuB,EACvBA,QACRJ,EAAiBC,KAAKF,MAAtBC,aACR,GAAII,GAAWA,IAAYJ,EAEzB,OADAC,KAAKI,SAAS,CAAEL,aAAcI,IACvBD,EAAO,M,oBAIlB,WAAU,IACAH,EAAiBC,KAAKF,MAAtBC,aACR,OAAO,qBAAKS,UAAU,QAAf,SAAwBT,Q,GArBRU,c,kKCKrBC,E,4MACJZ,MAAQ,CACNa,MAAO,GACPC,SAAU,GACVb,aAAc,I,EAGhBc,aAAe,SAAAC,GAAU,IAAD,EACEA,EAAMC,OAAtBC,EADc,EACdA,KAAMC,EADQ,EACRA,MACd,EAAKb,SAAL,eAAiBY,EAAOC,K,EAG1BC,aAAe,SAAAJ,GACbA,EAAMK,iBADgB,MAEM,EAAKrB,MAAzBa,EAFc,EAEdA,MAAOC,EAFO,EAEPA,SACPQ,EAAY,EAAKnB,MAAjBmB,QAER,OAAKT,EACAC,GAELQ,EAAQ,CAAET,QAAOC,kBACjB,EAAKR,SAAS,CAAEO,MAAO,GAAIC,SAAU,MAHf,EAAKS,iBAAiB,yBADzB,EAAKA,iBAAiB,uB,EAO3CA,iBAAmB,SAAAtB,GACjB,EAAKK,SAAS,CAAEL,kB,4CAGlB,WAAU,IAAD,EACmCC,KAAKF,MAAvCa,EADD,EACCA,MAAOC,EADR,EACQA,SAAUb,EADlB,EACkBA,aACzB,OACE,qCACE,qBAAKS,UAAU,uBAAf,SACE,cAACc,EAAA,EAAD,CAAeC,KAAMxB,EAAcyB,WAAW,eAAeC,QAAS,IAAKC,eAAa,EAAxF,SACE,cAAC7B,EAAA,EAAD,CAAcK,OAAQF,KAAKqB,iBAAkBlB,QAASJ,QAI1D,uBAAM4B,SAAU3B,KAAKkB,aAArB,UACE,0CAEE,uBACEV,UAAU,QACVoB,KAAK,QACLZ,KAAK,QACLC,MAAON,EACPkB,SAAU7B,KAAKa,kBAGnB,6CAEE,uBACEL,UAAU,QACVoB,KAAK,WACLZ,KAAK,WACLC,MAAOL,EACPiB,SAAU7B,KAAKa,kBAGnB,uBACA,wBACEL,UAAU,gBACVoB,KAAK,SACLE,UAAYnB,IAAUC,KAAeb,EAHvC,6B,GA5DcU,aAyElBsB,EAAqB,CACzBX,QAASY,IAAeC,OAGXC,cAAQ,KAAMH,EAAdG,CAAkCxB,GCzElCyB,UATG,WAChB,OACE,qCACE,uCACA,cAAC,EAAD","file":"static/js/login-view.d8a19720.chunk.js","sourcesContent":["import { Component } from 'react';\n\nclass Notification extends Component {\n  state = {\n    errorMessage: '',\n  };\n\n  componentDidMount() {\n    const { onView, message } = this.props;\n    this.setState({ errorMessage: message });\n    setTimeout(() => onView(''), 2000);\n  }\n  componentDidUpdate(prevProps, prevState) {\n    const { onView, message } = this.props;\n    const { errorMessage } = this.state;\n    if (message && message !== errorMessage) {\n      this.setState({ errorMessage: message });\n      return onView('');\n    }\n  }\n\n  render() {\n    const { errorMessage } = this.state;\n    return <div className=\"alert\">{errorMessage}</div>;\n  }\n}\n\nexport default Notification;\n","import { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport Notification from '../Notification';\r\nimport '../Notification/Notification.css';\r\nimport { authOperations } from '../../redux/auth';\r\n\r\nclass LoginForm extends Component {\r\n  state = {\r\n    email: '',\r\n    password: '',\r\n    errorMessage: '',\r\n  };\r\n\r\n  handleChange = event => {\r\n    const { name, value } = event.target;\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n    const { email, password } = this.state;\r\n    const { onLogin } = this.props;\r\n\r\n    if (!email) return this.showNotification('Please enter email');\r\n    if (!password) return this.showNotification('Please enter password');\r\n\r\n    onLogin({ email, password });\r\n    this.setState({ email: '', password: '' });\r\n  };\r\n\r\n  showNotification = errorMessage => {\r\n    this.setState({ errorMessage });\r\n  };\r\n\r\n  render() {\r\n    const { email, password, errorMessage } = this.state;\r\n    return (\r\n      <>\r\n        <div className=\"Notification-wrapper\">\r\n          <CSSTransition in={!!errorMessage} classNames=\"Notification\" timeout={250} unmountOnExit>\r\n            <Notification onView={this.showNotification} message={errorMessage} />\r\n          </CSSTransition>\r\n        </div>\r\n\r\n        <form onSubmit={this.handleSubmit}>\r\n          <label>\r\n            Email\r\n            <input\r\n              className=\"input\"\r\n              type=\"email\"\r\n              name=\"email\"\r\n              value={email}\r\n              onChange={this.handleChange}\r\n            ></input>\r\n          </label>\r\n          <label>\r\n            Password\r\n            <input\r\n              className=\"input\"\r\n              type=\"password\"\r\n              name=\"password\"\r\n              value={password}\r\n              onChange={this.handleChange}\r\n            ></input>\r\n          </label>\r\n          <br />\r\n          <button\r\n            className=\"btn-phonebook\"\r\n            type=\"submit\"\r\n            disabled={(!email && !password) || !!errorMessage}\r\n          >\r\n            Login\r\n          </button>\r\n        </form>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  onLogin: authOperations.login,\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(LoginForm);\r\n","import LoginForm from '../components/LoginForm';\r\n\r\nconst LoginView = () => {\r\n  return (\r\n    <>\r\n      <h1>Login</h1>\r\n      <LoginForm />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LoginView;\r\n"],"sourceRoot":""}